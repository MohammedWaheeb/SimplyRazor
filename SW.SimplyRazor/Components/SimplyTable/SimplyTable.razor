@typeparam TModel
@namespace SW.SimplyRazor
@implements ISimplyForm

<CascadingValue IsFixed="true" Value="this" Name="Form">
    <CascadingValue Value="Value" Name="Value">
        <FormArray TModel="TModel">
            @ChildContent
        </FormArray>
    </CascadingValue>
</CascadingValue>

@code {

    [Parameter]
    public IList<TModel> Value { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public string Id => "MainForm";

    public IDictionary<string, FieldState> Fields { get; set; }

    protected override void OnInitialized()
    {
        Fields = new Dictionary<string, FieldState>();
    }

    public Task FieldValueChanged(string name)
    {
        return Task.CompletedTask;
    }

    public void AddField(FieldState formField)
    {
        //Fields.Add(formField.Name, formField);
    }

    public void RemoveField(string name)
    {
        //Fields.Remove(name);
    }








}
