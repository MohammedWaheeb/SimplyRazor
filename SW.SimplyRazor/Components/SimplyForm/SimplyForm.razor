@typeparam TModel
@implements ISimplyForm
@namespace SW.SimplyRazor

<CascadingValue IsFixed="true" Value="this" Name="Form">
    <CascadingValue Value="Value" Name="Model">
        @ChildContent
    </CascadingValue>
</CascadingValue>

@code {

    [Parameter]
    public TModel Value { get; set; }

    [Parameter]
    public EventCallback<TModel> ValueChanged { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public async Task FieldValueChanged(string name)
    {
        await ValueChanged.InvokeAsync(Value);
    }
}
